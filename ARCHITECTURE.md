# GitHub PR Dashboard - Container Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DOCKER HOST                                â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              github-pr-dashboard-network                      â”‚ â”‚
â”‚  â”‚                    (Bridge Network)                           â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
â”‚  â”‚  â”‚  CLIENT CONTAINER                                    â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Name: github-pr-dashboard-client                   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Image: nginx:1.25-alpine                           â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Size: ~25-30 MB                                     â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  STAGE 1: Builder (node:20-alpine)         â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - npm ci --only=production                 â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - npm run build                            â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â†’ Creates optimized React build            â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  STAGE 2: Runtime (nginx:1.25-alpine)      â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - Serves static files from /usr/share/    â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - Proxies /api/* to backend                â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - Gzip compression enabled                 â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - Security headers configured              â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - Asset caching (1 year)                   â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Ports: 0.0.0.0:3000 â†’ 80                           â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Health: HTTP GET http://localhost:80/              â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Restart: unless-stopped                            â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Security: no-new-privileges                        â”‚    â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚  â”‚                     â”‚ Proxy: /api/* â†’ http://server:3001    â”‚ â”‚
â”‚  â”‚                     â†“                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
â”‚  â”‚  â”‚  SERVER CONTAINER                                    â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Name: github-pr-dashboard-server                   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Image: node:20-alpine                              â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Size: ~80-90 MB                                     â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  STAGE 1: Builder (node:20-alpine)         â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - npm ci --only=production                 â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â†’ Installs production dependencies         â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  STAGE 2: Runtime (node:20-alpine)         â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - User: nodejs (UID 1001)                  â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - Filesystem: read-only + /tmp tmpfs       â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - Init: dumb-init (proper signal handling) â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - Express API server                       â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  - GitHub API integration                   â”‚   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Ports: 3001 (internal only)                        â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Health: HTTP GET http://localhost:3001/api/health  â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Restart: unless-stopped                            â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Security: no-new-privileges, read-only             â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  Environment:                                        â”‚    â”‚ â”‚
â”‚  â”‚  â”‚    - GITHUB_TOKEN                                   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚    - REPOSITORIES                                   â”‚    â”‚ â”‚
â”‚  â”‚  â”‚    - TEAM_MEMBERS                                   â”‚    â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚  â”‚                    â”‚                                          â”‚ â”‚
â”‚  â”‚                    â†“                                          â”‚ â”‚
â”‚  â”‚              GitHub API                                       â”‚ â”‚
â”‚  â”‚        api.github.com                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  Optional: Watchtower (Auto-updates)                             â”‚
â”‚  Profile: auto-update                                            â”‚
â”‚  Checks: Daily                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VOLUME MOUNTS (Development Mode Only)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ./client/src â†’ /app/src               â”‚ (Hot reload)
â”‚ ./client/public â†’ /app/public         â”‚ (Hot reload)
â”‚ ./server â†’ /app/server                â”‚ (Hot reload)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RESOURCE LIMITS (Production Mode)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Server:                                 â”‚
â”‚   CPU: 0.25-1.0 cores                  â”‚
â”‚   Memory: 256-512 MB                   â”‚
â”‚                                         â”‚
â”‚ Client:                                 â”‚
â”‚   CPU: 0.1-0.5 cores                   â”‚
â”‚   Memory: 64-256 MB                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

HEALTH CHECKS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Interval: 30s                           â”‚
â”‚ Timeout: 10s                            â”‚
â”‚ Retries: 3                              â”‚
â”‚ Start Period: 40s                       â”‚
â”‚                                         â”‚
â”‚ Server: node HTTP check â†’ :3001/health â”‚
â”‚ Client: wget HTTP check â†’ :80/         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LOGGING
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Driver: json-file                       â”‚
â”‚ Max Size: 10 MB per file               â”‚
â”‚ Max Files: 3 (30 MB total)             â”‚
â”‚ Rotation: Automatic                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BUILD PROCESS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. DOCKER BUILD                                             â”‚
â”‚    â”œâ”€ Client: npm install â†’ build â†’ nginx serve            â”‚
â”‚    â””â”€ Server: npm install â†’ copy files                     â”‚
â”‚                                                             â”‚
â”‚ 2. OPTIMIZATION                                             â”‚
â”‚    â”œâ”€ Multi-stage builds (discard build tools)             â”‚
â”‚    â”œâ”€ Alpine base images (minimal OS)                      â”‚
â”‚    â”œâ”€ Layer caching (faster rebuilds)                      â”‚
â”‚    â””â”€ .dockerignore (exclude unnecessary files)            â”‚
â”‚                                                             â”‚
â”‚ 3. SECURITY                                                 â”‚
â”‚    â”œâ”€ Non-root users (UID 1001)                           â”‚
â”‚    â”œâ”€ Read-only filesystems                                â”‚
â”‚    â”œâ”€ No privilege escalation                              â”‚
â”‚    â””â”€ Minimal attack surface                               â”‚
â”‚                                                             â”‚
â”‚ 4. DEPLOYMENT                                               â”‚
â”‚    â”œâ”€ docker-compose up -d                                 â”‚
â”‚    â”œâ”€ Health checks validate readiness                     â”‚
â”‚    â”œâ”€ Client depends on server health                      â”‚
â”‚    â””â”€ Network isolation configured                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DEPLOYMENT MODES

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Development      â”‚ Standard         â”‚ Production          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Hot reload: âœ“    â”‚ Hot reload: âœ—    â”‚ Hot reload: âœ—       â”‚
â”‚ Volumes: âœ“       â”‚ Volumes: âœ—       â”‚ Volumes: âœ—          â”‚
â”‚ Resources: âˆ     â”‚ Resources: âˆ     â”‚ Resources: Limited  â”‚
â”‚ Logging: stdout  â”‚ Logging: json    â”‚ Logging: rotated    â”‚
â”‚ Auto-update: âœ—   â”‚ Auto-update: âœ—   â”‚ Auto-update: âœ“*     â”‚
â”‚ Optimize: âœ—      â”‚ Optimize: âœ“      â”‚ Optimize: âœ“         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ docker-compose   â”‚ docker-compose   â”‚ docker-compose      â”‚
â”‚   -f base.yml    â”‚   up -d          â”‚   -f prod.yml up -d â”‚
â”‚   -f dev.yml up  â”‚                  â”‚   --profile update  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        * Optional profile

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CI/CD PIPELINE

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actions                                              â”‚
â”‚ â”œâ”€ On Push (main/develop)                                  â”‚
â”‚ â”‚  â”œâ”€ Build multi-arch images (amd64, arm64)              â”‚
â”‚ â”‚  â”œâ”€ Run Trivy security scan                             â”‚
â”‚ â”‚  â”œâ”€ Push to ghcr.io                                     â”‚
â”‚ â”‚  â””â”€ Upload security results                             â”‚
â”‚ â”‚                                                          â”‚
â”‚ â”œâ”€ On PR                                                   â”‚
â”‚ â”‚  â”œâ”€ Build images                                        â”‚
â”‚ â”‚  â”œâ”€ Report sizes in PR comment                          â”‚
â”‚ â”‚  â””â”€ Security scan                                       â”‚
â”‚ â”‚                                                          â”‚
â”‚ â””â”€ On Tag (v*)                                             â”‚
â”‚    â”œâ”€ Build release images                                â”‚
â”‚    â”œâ”€ Tag with version                                    â”‚
â”‚    â””â”€ Push to registry                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Structure

```
github-pr-dashboard/
â”œâ”€â”€ ğŸ³ CONTAINER CONFIGURATION
â”‚   â”œâ”€â”€ docker-compose.yml           # Base orchestration
â”‚   â”œâ”€â”€ docker-compose.dev.yml       # Development overrides
â”‚   â”œâ”€â”€ docker-compose.prod.yml      # Production config
â”‚   â”œâ”€â”€ .dockerignore                # Root ignore rules
â”‚   â””â”€â”€ .containerrc.yml             # Metadata
â”‚
â”œâ”€â”€ ğŸ“¦ CLIENT (React + Nginx)
â”‚   â”œâ”€â”€ Dockerfile                   # Production build
â”‚   â”œâ”€â”€ Dockerfile.dev               # Development build
â”‚   â”œâ”€â”€ nginx.conf                   # Web server config
â”‚   â”œâ”€â”€ .dockerignore                # Build exclusions
â”‚   â””â”€â”€ src/...                      # React app
â”‚
â”œâ”€â”€ ğŸ”§ SERVER (Node.js + Express)
â”‚   â”œâ”€â”€ Dockerfile                   # Optimized build
â”‚   â”œâ”€â”€ .dockerignore                # Build exclusions
â”‚   â””â”€â”€ index.js                     # Express API
â”‚
â”œâ”€â”€ ğŸ¤– AUTOMATION
â”‚   â”œâ”€â”€ Makefile                     # Command shortcuts
â”‚   â”œâ”€â”€ start-docker.sh              # Setup (Linux/Mac)
â”‚   â”œâ”€â”€ start-docker.bat             # Setup (Windows)
â”‚   â””â”€â”€ healthcheck.sh               # Health monitoring
â”‚
â”œâ”€â”€ ğŸ”„ CI/CD
â”‚   â””â”€â”€ .github/workflows/
â”‚       â”œâ”€â”€ docker-build.yml         # Build pipeline
â”‚       â””â”€â”€ docker-size-check.yml    # Size tracking
â”‚
â”œâ”€â”€ ğŸ“– DOCUMENTATION
â”‚   â”œâ”€â”€ README.md                    # Main documentation
â”‚   â”œâ”€â”€ DOCKER.md                    # Docker guide
â”‚   â”œâ”€â”€ CI-CD.md                     # Deployment guide
â”‚   â”œâ”€â”€ DOCKER-QUICKREF.md           # Quick reference
â”‚   â”œâ”€â”€ CONTAINERIZATION-SUMMARY.md  # Overview
â”‚   â””â”€â”€ ARCHITECTURE.md              # This file
â”‚
â””â”€â”€ âš™ï¸ CONFIGURATION
    â””â”€â”€ env.example                  # Environment template
```

## Request Flow

```
User Request
     â”‚
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser/Client    â”‚
â”‚   localhost:3000    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ HTTP/HTTPS
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Docker Host (Port 3000)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NGINX Container (:80)            â”‚
â”‚ - Serve static files (React)    â”‚
â”‚ - OR proxy to API                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ Static files (.js, .css, .html)
           â”‚   â””â”€â†’ React App (SPA)
           â”‚
           â””â”€â†’ /api/* requests
               â”‚
               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Express Container (:3001)â”‚
        â”‚ - Parse request          â”‚
        â”‚ - Validate credentials   â”‚
        â”‚ - Call GitHub API        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   GitHub API    â”‚
            â”‚ api.github.com  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAYER 1: CONTAINER RUNTIME                                â”‚
â”‚ â”œâ”€ Non-root users (UID 1001)                             â”‚
â”‚ â”œâ”€ Read-only root filesystem                             â”‚
â”‚ â”œâ”€ No new privileges                                     â”‚
â”‚ â”œâ”€ Minimal base images (Alpine)                          â”‚
â”‚ â””â”€ Network isolation                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LAYER 2: WEB SERVER (Nginx)                              â”‚
â”‚ â”œâ”€ Security headers (X-Frame-Options, CSP)              â”‚
â”‚ â”œâ”€ X-Content-Type-Options: nosniff                      â”‚
â”‚ â”œâ”€ X-XSS-Protection                                      â”‚
â”‚ â””â”€ Proxy only specific paths (/api/*)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LAYER 3: APPLICATION                                      â”‚
â”‚ â”œâ”€ CORS configuration                                    â”‚
â”‚ â”œâ”€ Environment-based secrets                            â”‚
â”‚ â”œâ”€ Input validation                                      â”‚
â”‚ â””â”€ Rate limiting (GitHub API)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LAYER 4: CI/CD                                            â”‚
â”‚ â”œâ”€ Automated vulnerability scanning                      â”‚
â”‚ â”œâ”€ Trivy security checks                                 â”‚
â”‚ â”œâ”€ Dependency audits                                     â”‚
â”‚ â””â”€ Security reports to GitHub                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Optimizations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUILD TIME                                              â”‚
â”‚ â”œâ”€ Multi-stage builds (discard intermediate layers)    â”‚
â”‚ â”œâ”€ Layer caching (dependencies cached separately)      â”‚
â”‚ â”œâ”€ .dockerignore (exclude unnecessary files)           â”‚
â”‚ â””â”€ BuildKit (parallel builds, better caching)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ IMAGE SIZE                                              â”‚
â”‚ â”œâ”€ Alpine Linux base (~5 MB vs ~900 MB)               â”‚
â”‚ â”œâ”€ Production dependencies only                        â”‚
â”‚ â”œâ”€ Multi-stage (no build tools in final image)        â”‚
â”‚ â””â”€ npm cache cleaned                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ RUNTIME                                                 â”‚
â”‚ â”œâ”€ Static asset caching (1 year)                      â”‚
â”‚ â”œâ”€ Gzip compression                                    â”‚
â”‚ â”œâ”€ Nginx optimizations                                â”‚
â”‚ â””â”€ Resource limits prevent overuse                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NETWORK                                                 â”‚
â”‚ â”œâ”€ Bridge network (low latency)                       â”‚
â”‚ â”œâ”€ Internal DNS resolution                            â”‚
â”‚ â””â”€ No external routing for backend                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Scaling Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HORIZONTAL SCALING                                   â”‚
â”‚                                                      â”‚
â”‚  Load Balancer                                       â”‚
â”‚       â”‚                                              â”‚
â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚       â†“       â†“       â†“       â†“       â†“            â”‚
â”‚   Client  Client  Client  Client  Client           â”‚
â”‚      â”‚       â”‚       â”‚       â”‚       â”‚              â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                     â”‚                                â”‚
â”‚                     â†“                                â”‚
â”‚              Backend Servers                         â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚       Server Server Server Server                   â”‚
â”‚                                                      â”‚
â”‚ Scale with:                                          â”‚
â”‚ - docker-compose up --scale server=4                â”‚
â”‚ - Kubernetes HPA                                    â”‚
â”‚ - Docker Swarm replicas                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Architecture Design Principles:**
- ğŸ—ï¸ Separation of Concerns (frontend/backend)
- ğŸ”’ Defense in Depth (multiple security layers)
- ğŸ“¦ Immutable Infrastructure (containers)
- ğŸš€ Optimized for Performance (caching, compression)
- ğŸ” Observable (health checks, logs)
- ğŸ¯ 12-Factor App Principles
- âš¡ Fast Startup and Rebuild
- ğŸŒ Cloud-Native Design

